<?php
    error_reporting(E_ALL); // or E_STRICT
    ini_set("display_errors",1);
    ini_set("memory_limit","1024M");
    set_time_limit(0);
    ini_set('upload_max_filesize', '500M');
    ini_set('post_max_size', '500M');
    ini_set('max_input_time', 4000); // Play with the values
    ini_set('max_execution_time', 4000);


    $upload_dir = __DIR__ . '/uploads';
    if($_SERVER["REQUEST_METHOD"] == "POST") {
        if(isset($_FILES['file'])) {
            $filename = $_FILES['file']['name'];
            $filetype = pathinfo($filename, PATHINFO_EXTENSION);
            $uploaded_file = pathinfo($filename, PATHINFO_FILENAME) . '.' . $filetype;
            $filepath = $upload_dir . '/' . $uploaded_file;
            $tmp = $_FILES['file']['tmp_name'];
            $success = move_uploaded_file($tmp, $filepath);
            if ($success) {
                echo 'The file was uploaded successfully.';
            }
        }
    }
?>
